/*
   Copyright 2025 David Chaiken

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
*/
body { 
  margin: 0;
  font-family: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: 0.9em;
  background-color: #fafafa;
  color: #212121;
}

#container {
  display: flex;
  height: 100vh;
}

#sidebar {
  width: 150px;
  background: white;
  padding: 15px;
  border-right: 1px solid #e0e0e0;
}

#graph {
  flex: 1;
  background: white;
  border-left: none;
}

#graph canvas {
  width: 100% !important;
  height: 100% !important;
}

.tool-section {
  margin-bottom: 20px;
  padding: 10px;
  background: white;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  position: relative;
}

.tool-section h3 {
  margin-top: 0;
  margin-bottom: 5px;
  color: #212121;
  font-size: 0.95em;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-group {
  margin-bottom: 10px;
}

.form-group input[type="text"] {
  padding: 5px;
  box-sizing: border-box;
  border: 1px solid #e0e0e0;
  border-radius: 3px;
  font-size: 0.9em;
  height: 24px;
}

label {
  display: block;
  margin-bottom: 5px;
  color: #212121;
  font-size: 0.85em;
  font-weight: 500;
}

input, select {
  width: 100%;
  padding: 5px;
  box-sizing: border-box;
  border: 1px solid #e0e0e0;
  border-radius: 3px;
  font-size: 0.9em;
}

button {
  width: 100%;
  padding: 8px;
  background: #1f77b4;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9em;
  font-weight: 500;
}

button:hover {
  background: #2196f3;
}

/* Add styles for the toggle switch */
.switch {
  position: relative;
  display: inline-block;
  width: 100%;
  height: 24px;
  min-width: 40px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 24px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #1f77b4;
}

input:checked + .slider:before {
  left: calc(100% - 21px);
}

.color-palette {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-bottom: 10px;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  padding: 8px;
  justify-items: center;
}

.color-option {
  width: 20px;
  height: 20px;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  position: relative;
  transition: box-shadow 0.2s ease;
}

.color-option.selected {
  box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.3);
}

.color-option:hover {
  box-shadow: 0 0 15px 2px rgba(0, 0, 0, 0.2);
}

.color-picker-container {
  margin-top: 5px;
}

.color-picker-container input[type="color"] {
  width: 100%;
  height: 30px;
  padding: 0;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  cursor: pointer;
  title: "Create a custom color";
}

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
  width: 100%;
  height: 4px;
  margin: 0;
  padding: 0;
  border: none;
  outline: none;
}

/* Webkit styles (Chrome, Safari, etc) */
input[type="range"]::-webkit-slider-runnable-track {
  width: 100%;
  height: 4px;
  background: linear-gradient(to right, #1f77b4 0%, #1f77b4 var(--value-percent), #e0e0e0 var(--value-percent), #e0e0e0 100%);
  border-radius: 2px;
  border: none;
  -webkit-appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  margin-top: -6px;
  background-color: #1f77b4;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  position: relative;
  z-index: 1;
  -webkit-appearance: none;
}

/* Firefox styles */
input[type="range"]::-moz-range-track {
  width: 100%;
  height: 4px;
  background: #e0e0e0;
  border-radius: 2px;
  border: none;
}

input[type="range"]::-moz-range-progress {
  background: #1f77b4;
  height: 4px;
  border-radius: 2px;
}

input[type="range"]::-moz-range-thumb {
  border: none;
  background-color: #1f77b4;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  cursor: pointer;
}

/* Focus styles */
input[type="range"]:focus {
  outline: none;
}

input[type="range"]:focus::-webkit-slider-thumb {
  background-color: #1f77b4;
}

input[type="range"]:focus::-moz-range-thumb {
  background-color: #1f77b4;
}

.color-palette.hidden {
  display: none;
}

/* Modal styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal-content {
  background-color: white;
  padding: 20px;
  border-radius: 4px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  width: 300px;
}

.modal-content h3 {
  margin-top: 0;
  margin-bottom: 10px;
  color: #212121;
}

.modal-content p {
  margin-bottom: 20px;
  color: #424242;
}

.modal-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: center;
}

.modal-buttons button {
  width: 200px;
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.9em;
  font-weight: 500;
  background-color: #1f77b4;
  color: white;
  text-align: center;
}

.modal-buttons button:hover {
  background-color: #2196f3;
}

#proceedWithoutSaveBtn {
  background-color: #d32f2f;
  color: white;
}

#proceedWithoutSaveBtn:hover {
  background-color: #f44336;
}

#helpIcon {
  position: fixed;
  top: 15px;
  right: 15px;
  width: 30px;
  height: 30px;
  background-color: #1f77b4;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-weight: 500;
  z-index: 1000;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

#helpIcon:hover {
  background-color: #2196f3;
}

#helpBanner {
  position: fixed;
  top: 30px;
  right: 60px;
  z-index: 1100;
  pointer-events: none;
}

.help-message {
  background: #1f77b4;
  color: white;
  padding: 8px 16px;
  border-radius: 10px;
  font-size: 0.9em;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  display: flex;
  align-items: center;
  gap: 8px;
  transform: translateY(-50%);
}

#helpArrow {
  font-size: 1.3em;
  animation: arrow-bounce 1s infinite alternate;
}

@keyframes arrow-bounce {
  0% { transform: translateX(0); }
  100% { transform: translateX(5px); }
}

.line-pattern-dropdown {
  position: relative;
  width: 100%;
}

.selected-style {
  width: 100%;
  height: 24px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: white;
  cursor: pointer;
  display: block;
}

.style-options {
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  background: white;
  border: 1px solid #ccc;
  border-radius: 4px;
  margin-top: 4px;
  z-index: 1000;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  display: none; /* Start hidden */
}

.style-options canvas {
  width: 100%;
  height: 24px;
  padding: 4px;
  cursor: pointer;
  display: block;
  box-sizing: border-box;
  background: white;
  border-bottom: 1px solid #eee;
}

.style-options canvas:last-child {
  border-bottom: none;
}

.style-options canvas:hover {
  background: #f0f0f0;
}

.selected-style-btn {
  width: 100%;
  padding: 0;
  border: 1px solid #ccc;
  background: white;
  cursor: pointer;
  display: block;
  border-radius: 4px;
}

.selected-style-btn:hover {
  border-color: #999;
}

.selected-style-btn:focus {
  outline: none;
  border-color: #666;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
}

/* Save Graph Modal Styles */
.save-options {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin: 0.75rem 0;
}

.save-option {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 0.75rem;
  padding: 0.5rem;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.save-option:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.save-option input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  border: 1px solid #e0e0e0;
  border-radius: 3px;
  background-color: white;
  cursor: pointer;
  position: relative;
  margin: 0.25rem 0 0 0;
}

.save-option input[type="checkbox"]:checked {
  background-color: #1f77b4;
  border-color: #1f77b4;
}

.save-option:hover input[type="checkbox"]:checked {
  background-color: #2196f3;
  border-color: #2196f3;
}

.save-option input[type="checkbox"]:checked::after {
  content: '';
  position: absolute;
  left: 6px;
  top: 2px;
  width: 3px;
  height: 9px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.save-option-content {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
}

.save-option span:first-child {
  font-size: 1.1em;
  color: #212121;
  font-weight: 500;
}

.option-description {
  font-size: 1em;
  color: #666;
}

#saveGraphModal input[type="checkbox"] {
  accent-color: #1f77b4;
}

#saveGraphModal input[type="checkbox"]:focus-visible {
  outline: 2px solid rgba(33, 150, 243, 0.2);
  outline-offset: 2px;
}

.x-checkbox {
  position: relative;
  display: inline-block;
  width: 24px;
  height: 24px;
  cursor: pointer;
  transform: translateY(2px);
}

.x-checkbox input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.x-checkbox .x-mark {
  position: absolute;
  top: 0;
  left: 0;
  width: 24px;
  height: 24px;
  background-color: #1f77b4;
  border: none;
  border-radius: 50%;
  transition: all 0.2s ease;
}

.x-checkbox .x-mark::before,
.x-checkbox .x-mark::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 18px;
  height: 2px;
  background-color: black;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.x-checkbox .x-mark::before {
  transform: translate(-50%, -50%) rotate(45deg);
}

.x-checkbox .x-mark::after {
  transform: translate(-50%, -50%) rotate(-45deg);
}

.x-checkbox input:checked + .x-mark::before,
.x-checkbox input:checked + .x-mark::after {
  opacity: 1;
}

.x-checkbox:hover .x-mark {
  filter: brightness(1.2);
}

.x-checkbox input:focus + .x-mark {
  box-shadow: 0 0 0 2px rgba(31, 119, 180, 0.2);
}

input:focus, select:focus {
  outline: none;
  border-color: #1f77b4;
  box-shadow: 0 0 0 2px rgba(31, 119, 180, 0.2);
} 